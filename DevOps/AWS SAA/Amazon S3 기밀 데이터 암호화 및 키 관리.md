# Amazon S3 기밀 데이터 암호화 및 키 관리

## 문제 요약

- S3에 **기밀 데이터** 저장
- **저장 시 암호화** 필수
- **암호화 키 사용 내역**은 감사(audit) 가능해야 함
- **키는 매년 교체(로테이션)** 되어야 함
- **운영상 효율적인(least operational overhead) 솔루션** 필요

---

## 선택지 비교

| 옵션    | 설명                                                 | 키 로테이션 | 감사 용이성 | 운영 효율성    | 적합성   |
|-------|----------------------------------------------------|--------|--------|-----------|-------|
| **A** | 고객 제공 키(SSE-C): 사용자가 직접 키 관리, 로테이션/감사 수동 필요        | ❌ (수동) | ❌      | 낮음        | ❌     |
| **B** | S3 관리형 키(SSE-S3): S3가 키 관리, 감사/로테이션 불가             | ❌      | ❌      | 높음        | ❌     |
| **C** | AWS KMS(SSE-KMS) CMK, **수동** 로테이션: 사용자가 직접 키 교체    | ✅ (수동) | ✅      | 보통        | ❌     |
| **D** | AWS KMS(SSE-KMS) CMK, **자동** 로테이션: 1년에 한 번 자동 키 교체 | ✅ (자동) | ✅      | **매우 높음** | **✅** |

---

## 해설

- **AWS KMS 고객 관리형 CMK + 자동 키 로테이션**
    - **자동 키 로테이션:**
        - AWS KMS에서 1년(365일)마다 자동으로 새 암호화 키 재생성
        - 이전 키도 보관되어 과거 데이터 복호화 가능
    - **감사 기록:**
        - KMS는 키 사용 이력(CloudTrail 등) 자동 기록 → 규정 준수 및 감사에 적합
    - **운영 효율성:**
        - 별도의 수동 작업 없이 키 관리, 로테이션, 감사 모두 자동화

---

## 결론

- **정답: D**
    - **자동 교체 기능이 있는 AWS KMS(SSE-KMS) 고객 마스터 키(CMK)를 사용한 서버 측 암호화**
    - → 규정 준수, 감사, 자동 키 로테이션, 운영 효율성 모두 충족

---

## 기억해두면 좋은 영어 표현

- **"Enable automatic key rotation in AWS KMS for your customer managed CMKs to meet compliance and
  audit requirements with minimal operational overhead."**  
  (운영 부담을 최소화하면서 규정 준수와 감사 요건을 충족하려면, 고객 관리형 CMK에 대해 AWS KMS의 자동 키 로테이션을 활성화하세요.)

---

## 영어로 질문하기 예시

**한글:**  
S3에 저장된 데이터의 암호화 키를 매년 자동으로 교체하고 사용 내역을 감사하려면 어떻게 해야 하나요?

**영어:**  
How can I automatically rotate encryption keys annually and audit key usage for data stored in
Amazon S3?

---

## 이직/실무 팁

- AWS KMS의 **고객 관리형 CMK + 자동 키 로테이션**은 금융, 의료 등 규정 준수가 중요한 업계에서 표준적인 방법입니다.
- CloudTrail과 연계하면 키 사용 및 접근 이력까지 체계적으로 감사할 수 있습니다.

---

이렇게 정리해두면 실무 설계, 보안 정책 수립, 면접 등 다양한 상황에 활용할 수 있습니다!