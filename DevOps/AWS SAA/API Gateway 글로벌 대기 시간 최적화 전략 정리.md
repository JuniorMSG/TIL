## 문제 (912)

한 회사에서는 **Amazon API Gateway REST API**와 **AWS Lambda 함수**를 사용하여 API를 개발했습니다.  
API는 전 세계 사용자에게 **정적 및 동적 콘텐츠**를 제공합니다.  
이 회사는 **API 요청에 대한 콘텐츠 전송 대기 시간**을 줄이고자 합니다.

### 선택지(정답 및 오답)

#### 정답
- **REST API를 엣지 최적화 API 엔드포인트로 배포합니다. 캐싱을 활성화합니다. API 정의에서 콘텐츠 인코딩을 활성화하여 전송 중인 애플리케이션 데이터를 압축합니다.**

#### 오답
- REST API를 **지역 API 엔드포인트**로 배포합니다. 캐싱을 활성화합니다. API 정의에서 콘텐츠 인코딩을 활성화하여 전송 중인 애플리케이션 데이터를 압축합니다.
- REST API를 **엣지 최적화 API 엔드포인트**로 배포합니다. 캐싱을 활성화합니다. **Lambda 함수에 대한 예약된 동시성**을 구성합니다.
- REST API를 **지역 API 엔드포인트**로 배포합니다. 캐싱을 활성화합니다. **Lambda 함수에 대한 예약된 동시성**을 구성합니다.

---

## 이론적인 배경

### 1. **엣지 최적화(Edge-Optimized) API 엔드포인트**
- **Edge-Optimized Endpoint**는 Amazon CloudFront를 통해 전 세계적으로 API를 배포합니다.
- 사용자의 지리적 위치와 가까운 엣지 로케이션에서 트래픽을 수신하므로, **글로벌 사용자에게 더 낮은 지연 시간**을 제공합니다.
- 반면, **Regional Endpoint**는 특정 리전에만 배포되어, 그 리전과 멀리 떨어진 사용자에게는 지연이 커질 수 있습니다.

### 2. **API Gateway 캐싱**
- **API Gateway 캐싱**을 활성화하면, 자주 요청되는 API 응답을 캐시하여 Lambda를 호출하지 않고도 빠르게 응답할 수 있습니다.
- 이를 통해 **응답 속도 향상** 및 백엔드 호출 비용 절감 효과가 있습니다.

### 3. **콘텐츠 인코딩(압축)**
- **콘텐츠 인코딩**(예: gzip, deflate)을 활성화하면, API Gateway가 응답 데이터를 압축하여 전송합니다.
- 네트워크 대역폭을 절약하고, **전송 대기 시간을 추가로 단축**할 수 있습니다.

### 4. **Lambda 예약 동시성(Reserved Concurrency)**
- 예약 동시성은 Lambda 함수의 **최소 동시 실행 수**를 예약하여 콜드 스타트 지연을 줄일 수 있습니다.
- 하지만, **API Gateway의 엣지 최적화/캐싱/압축과는 별개**로, 전송 대기 시간(특히 글로벌 네트워크 지연)에 직접적인 영향을 주지 않습니다.

---

## 왜 정답이 정답인가요?

- **전 세계 사용자**를 위한 **콘텐츠 전송 대기 시간 최소화**가 목적입니다.
- **엣지 최적화 엔드포인트**를 사용해야 전 세계적으로 낮은 지연 시간을 달성할 수 있습니다.
- **캐싱**과 **압축(콘텐츠 인코딩)**은 추가적으로 응답 속도를 높이고, 네트워크 효율을 높여줍니다.
- **지역 엔드포인트**를 사용할 경우, 리전과 멀리 떨어진 사용자는 여전히 높은 지연 시간을 겪게 됩니다.
- **Lambda 예약 동시성**은 API Gateway의 전송 대기 시간 단축에는 직접적인 효과가 없습니다.

---

## 알아두면 좋은 정보

- **엣지 최적화 엔드포인트**는 API Gateway에서 기본값이며, 글로벌 서비스에 적합합니다.
- **Regional Endpoint**는 리전 내부 또는 특정 VPC와의 통신이 중요한 경우에 사용합니다.
- **캐싱**은 비용이 추가될 수 있으나, 대량의 읽기 요청이 있는 경우 비용 대비 효율이 좋습니다.
- **콘텐츠 인코딩**은 클라이언트가 해당 인코딩을 지원해야 효과를 볼 수 있습니다.
- **Lambda 예약 동시성**은 트래픽 폭주 상황에서 콜드 스타트 이슈를 줄이지만, 네트워크 지연에 직접적인 영향은 없습니다.

---

## 기억해두면 좋은 영어 표현

- **"To minimize latency for global users, deploy the API as an edge-optimized endpoint."**  
  (글로벌 사용자의 지연 시간을 최소화하려면 API를 엣지 최적화 엔드포인트로 배포하세요.)
- **"Enable caching and content encoding to further reduce response time and network usage."**  
  (응답 시간과 네트워크 사용량을 추가로 줄이려면 캐싱과 콘텐츠 인코딩을 활성화하세요.)

---

## 영어로 질문하기

**한글 질문:**  
왜 엣지 최적화 API 엔드포인트를 사용해야 전 세계 사용자에게 대기 시간이 짧아지나요?

**영어 표현:**  
Why does using an edge-optimized API endpoint reduce latency for global users?

---