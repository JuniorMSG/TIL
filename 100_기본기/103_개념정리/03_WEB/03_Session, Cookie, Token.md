# 01_Session, Cookie, Token.md

## 세션(session)이란?
> 모든 웹 서비스는 http통신을 기본으로 하고 있으며 서버와 클라이언트 간의 소통을 위한 프로토콜이다.  
> 소통간의 길을 유지하는 노력을 서버, 클라이언트 양쪽다 하지 않는 stateless 특성을 가지고있으며  
> 물건을 주문했는데 확인이 불가능한 상황이 발생 할 수 있기때문에 statefull을 지원하기 위해 Session 개념이 생겼습니다.  
> 요청한 사용자에게 Cookie라는 증거물을 남겨 서버가 구분 할 수 있도록 합니다.

### 세션 생성 과정 
1. 서버에서 세션을 설정한 경우 클라이언트가 해당 서버에 접속할때 세션 파일을 하나 생성한다.
2. 브라우저에세 JSESSIONID라는 쿠키를 전송한다.
3. 다른 페이지로 이동할때마다 해당 쿠키를 서버에 함께 전송한다.
4. 서버는 그 쿠키를 보고 어떤 세션인지 매치하여 체크한다. 

### 세션의 저장 방식
> 그럼... 쿠키와 세션은 어디에 저장되는걸까?
#### 1. 서버 메모리
> app을 구동하고 있는 서버의 메모리에 Session을 생성합니다.   
> ### 문제점  
> * 메모리가 부족해서 시스템 메모리 초과로 서버를 죽일 수 있다.
> * 서버가 죽으면 Session이 모두 날아간다.

#### 2. File Storage
> 1번 방법의 문제점을 보완하여 파일 형태로 Session을 저장한다.
> ### 문제점  
> * 서버를 로드 밸런싱하여 여러대로 구성하면 1번 서버에 저장한 세션파일이 2번 서버로 가면 없게된다.

#### 3. Database storage
> 2번 방법을 한계를 극복하고자 DB에 설정!
> ### 장점
> 사용자의 정보를 안전하게 저장가능하며 중복 로그인 방지등 다양한 작업이 가능하다.
> 사용자의 로그인을 유지하기 위한 시간을 설정 할 수 있다.

## 쿠키(Cookie)란 
    Cookie(쿠키)란 웹 사이트에 접속할 때 서버에 의해 사용자의 브라우저에 저장되는 정보를 의미한다.
    사용자를 식별하고, 세션을 유지하는 방식이며, 웹 사이트는 저장된 사용자의 정보를 사용자 측 브라우저에 남기며
    필요할 때마다 재사용하며 모든 브라우저에서 지원한다.

### 특징
1. Key=value 형태로 이루어져있다.
2. String 타입 
3. 4KB 이상 저장 불가능
4. 유효기간이 있고 기간은 서버가 정한 기간에 따라 유효
5. Web에만 있다.

### 사용 목적
1. 세션 관리 : 로그인, 장바구니, 접속정보등
2. 트래킹 : 사용자의 행동을 기록 및 분석


[쿠키에 대해 더 알아보기](https://developer.mozilla.org/ko/docs/Web/HTTP/Cookies)


## 토큰 (Token)
> JWT(JSON Web Token)란 인증에 필요한 정보들을 암호화시킨 토큰을 의미합니다.   
> JWT 토큰(Access Token)을 HTTP 헤더에 실어 서버가 클라이언트를 식별합니다.  
